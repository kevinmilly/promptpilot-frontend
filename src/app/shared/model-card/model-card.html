<mat-card class="model-card" [ngClass]="providerClass(result.metadata.provider)">
  <!-- Header -->
  <mat-card-header class="model-header">
    <div class="model-info">
      <mat-card-title>{{ result.metadata.name }}</mat-card-title>
      <mat-card-subtitle>{{ result.metadata.provider }}</mat-card-subtitle>
    </div>
    <button mat-icon-button class="copy-btn" (click)="copyText(result.text)" matTooltip="Copy response">
      <mat-icon>content_copy</mat-icon>
    </button>
  </mat-card-header>

  <!-- Metrics Summary Bar -->
  <div class="metrics-bar">
    <div class="metric">
      âš¡ <span>{{ result.latency }} ms</span>
      <small>Latency</small>
    </div>
    <div class="metric">
      ğŸ’¬ <span>{{ result.tokens }}</span>
      <small>Tokens</small>
    </div>
    <div class="metric">
      ğŸ’°
      <span>
        {{
        (result.insights?.estimatedCostUSD ?? 0) > 0
        ? (result.insights?.estimatedCostUSD | currency : 'USD' : 'symbol' : '1.4-4')
        : 'N/A'
        }}

      </span>
      <small>Cost</small>
    </div>
    <div class="metric">
      ğŸ§ 
      <span [class.good]="(result.insights?.readability ?? 0) > 60" [class.medium]="
          (result.insights?.readability ?? 0) > 30 &&
          (result.insights?.readability ?? 0) <= 60
        " [class.bad]="(result.insights?.readability ?? 0) <= 30">
        {{ result.insights?.readability ?? 'N/A' }}
      </span>
      <small>Readability</small>
    </div>
    <div class="metric">
      ğŸ§© <span>{{ (result.insights?.coherence ?? 0) | number : '1.0-2' }}</span>
      <small>Coherence</small>
    </div>
  </div>

  <!-- Response -->
  <mat-card-content>
    <p class="response-text">{{ result.text }}</p>

    <!-- Tone Row -->
    <div class="metric-row tone-row">
      <span>ğŸ­ Tone: {{ result.insights?.tone ?? 'N/A' }}</span>
    </div>
  </mat-card-content>
</mat-card>