<mat-card class="model-card" [ngClass]="providerClass(result.metadata.provider)">
  <mat-card-header>
    <mat-card-title>{{ result.metadata.name }}</mat-card-title>
    <mat-card-subtitle>{{ result.metadata.provider }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <p class="response-text">{{ result.text }}</p>

    <div class="metrics">
      <div class="metric-row">
        <span>âš¡ {{ result.latency }} ms</span>
        <span>ğŸ’¬ {{ result.tokens }} tokens</span>
        <span>
          ğŸ’°
          {{
            result.insights?.estimatedCostUSD
              ? (result.insights?.estimatedCostUSD | currency : 'USD' : 'symbol' : '1.4-4')
              : 'N/A'
          }}
        </span>
      </div>

      <div class="metric-row">
        <span>
          ğŸ§  Readability:
          <span
            [class.good]="(result.insights?.readability ?? 0) > 60"
            [class.medium]="
              (result.insights?.readability ?? 0) > 30 &&
              (result.insights?.readability ?? 0) <= 60
            "
            [class.bad]="(result.insights?.readability ?? 0) <= 30"
          >
            {{ result.insights?.readability ?? 'N/A' }}
          </span>
        </span>
        <span>ğŸ­ Tone: {{ result.insights?.tone ?? 'N/A' }}</span>
      </div>

      <div class="metric-row">
        <span>ğŸ”— Coherence:</span>
        <mat-progress-bar
          mode="determinate"
          [value]="(result.insights?.coherence ?? 0) * 100"
          color="accent"
        ></mat-progress-bar>
      </div>
    </div>
  </mat-card-content>
</mat-card>
